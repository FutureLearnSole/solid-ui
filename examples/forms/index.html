<!DOCTYPE HTML>
<html lang="en">
  <head>
    <meta charset='UTF-8'>
    <title>solid-ui UI.widgets.forms examples page</title>
    <script type="text/javascript" src="../../lib/webpack-bundle.js"></script>
    <script>
      function showSource(widgetName) {
      document.getElementById(`viewSource-${widgetName}`).innerHTML = document.getElementById(`script-${widgetName}`).innerText
          .replace(/&/g, "&amp;")
          .replace(/</g, "&lt;")
          .replace(/>/g, "&gt;")
          .replace(/"/g, "&quot;")
          .replace(/'/g, "&#039;")
    }
    </script>
  </head>
<body>
  <h1>See also:</h1>
  <ul>
    <li><a href="../../Documentation/forms-intro.html">Forms intro</a></li>
    <li><a href="../../Documentation/form-ecosystem.html">Form ecosystem</a></li>
    <li><a href="https://solid.github.io/form-playground/playground.html">Form Playground</a></li>
    <li><a href="https://solid.github.io/form-playground/browse.html">Form Browse</a></li>
    <li><a href="../../Documentation/api/">API docs</a></li>
  </ul>
  <!-- <h2 id="templateTitle"><a href="#templateTitle">templateTitle</a></h2>
  <script id="script-templateTitle">
    window.addEventListener('DOMContentLoaded', (event) => {
      UI.widgets.templateTitle()
    })
  </script>
  <pre id="viewSource-templateTitle"></pre><script>showSource('templateTitle')</script>
  <div id="div-templateTitle"></div> -->

  <h2 id="mostSpecificClassURI"><a href="#mostSpecificClassURI">mostSpecificClassURI</a></h2>
  <script id="script-mostSpecificClassURI">
    window.addEventListener('DOMContentLoaded', async (event) => {
      const fullNameField = UI.rdf.namedNode('https://timbl.com/timbl/Public/Test/Forms/individualForm.ttl#fullNameField')
      await UI.store.fetcher.load(fullNameField.doc())
      const result = UI.widgets.mostSpecificClassURI(fullNameField)
      document.getElementById('div-mostSpecificClassURI').appendChild(document.createTextNode(result))
    })
  </script>
  <pre id="viewSource-mostSpecificClassURI"></pre><script>showSource('mostSpecificClassURI')</script>
  <div id="div-mostSpecificClassURI"></div>

  <h2 id="fieldFunction"><a href="#fieldFunction">fieldFunction</a></h2>
  <script id="script-fieldFunction">
    window.addEventListener('DOMContentLoaded', async (event) => {
      const dom = document
      const container = document.getElementById('div-fieldFunction')
      const already = {}
      const subject = UI.rdf.namedNode('https://michielbdejong.inrupt.net/profile/card#me')
      const form = UI.rdf.namedNode('https://timbl.com/timbl/Public/Test/Forms/individualForm.ttl#form1')
      const doc = subject.doc()
      const callbackFunction = () => {
        console.log('callback fieldFunction called!')
      }
      await UI.store.fetcher.load(subject.doc())
      const fullNameField = UI.rdf.namedNode('https://timbl.com/timbl/Public/Test/Forms/individualForm.ttl#fullNameField')
      await UI.store.fetcher.load(fullNameField.doc())
      const fieldFunction = UI.widgets.fieldFunction(dom, fullNameField)
      const result = fieldFunction(dom, container, already, subject, fullNameField, doc)
      document.getElementById('div-fieldFunction').appendChild(result)
    })
  </script>
  <pre id="viewSource-fieldFunction"></pre><script>showSource('fieldFunction')</script>
  <div id="div-fieldFunction"></div>

  <h2 id="appendForm"><a href="#appendForm">appendForm</a></h2>
  <script id="script-appendForm">
    window.addEventListener('DOMContentLoaded', async (event) => {
      const dom = document
      const container = document.getElementById('div-appendForm')
      const already = {}
      const subject = UI.rdf.namedNode('https://michielbdejong.inrupt.net/profile/card#me')
      const form = UI.rdf.namedNode('https://timbl.com/timbl/Public/Test/Forms/individualForm.ttl#form1')
      const doc = subject.doc()
      const callbackFunction = () => {
        console.log('callback appendForm called!')
      }
      await UI.store.fetcher.load(doc)
      await UI.store.fetcher.load(form.doc())
      UI.widgets.appendForm(dom, container, already, subject, form, doc)
    })
  </script>
  <pre id="viewSource-appendForm"></pre><script>showSource('appendForm')</script>
  <div id="div-appendForm"></div>

  <h2 id="formField"><a href="#formField">UI.widgets.field[UI.ns.ui('Form').uri] / UI.widgets.field[UI.ns.ui('Group').uri], no already</a></h2>
  <script id="script-formField">
    window.addEventListener('DOMContentLoaded', (event) => {
      const container = document.getElementById('div-formField')
      const already = {}
      const subject = UI.rdf.namedNode('http://example.com/#this')
      const form = UI.rdf.namedNode('http://example.com/#form')
      const store = UI.rdf.namedNode('http://example.com/#store')
      const callbackFunction = (ok, errorMessage) => {
        console.log(ok, errorMessage, document.getElementById('#div-formField').innerHTML);
      }
      UI.store.add(form, UI.ns.ui('parts'), new UI.rdf.Collection([
        UI.rdf.namedNode('http://example.com/#part1'),
        UI.rdf.namedNode('http://example.com/#part2')
      ]), UI.rdf.namedNode('http://example.com/'))
      UI.store.add(UI.rdf.namedNode('http://example.com/#part1'), UI.ns.rdf('type'), UI.ns.ui('Comment'))
      UI.store.add(UI.rdf.namedNode('http://example.com/#part1'), UI.ns.ui('contents'), '[this is part 1 of the form]')
      UI.store.add(UI.rdf.namedNode('http://example.com/#part2'), UI.ns.rdf('type'), UI.ns.ui('Comment'))
      UI.store.add(UI.rdf.namedNode('http://example.com/#part2'), UI.ns.ui('contents'), '[this is part 2 of the form]')
        

      // FIXME: https://github.com/solid/solid-ui/issues/239
      document.outlineManager = {
        appendPropertyTRs: () => {}
      }
      UI.widgets.field[UI.ns.ui('Form').uri](
        document,
        container,
        already,
        subject,
        form,
        store,
        callbackFunction
      );
    })
  </script>
  <pre id="viewSource-formField"></pre><script>showSource('formField')</script>
  <div id="div-formField"></div>

  <h2 id="groupField"><a href="#groupField">UI.widgets.field[UI.ns.ui('Form').uri] / xUI.widgets.field[UI.ns.ui('Group').uri], with already</a></h2>
  <script id="script-groupField">
    // UI.widgets.field[UI.ns.ui('Group').uri] is currently synonymous with
    // UI.widgets.field[UI.ns.ui('Form').uri], but this additional example
    // shows the use of `already`.

    window.addEventListener('DOMContentLoaded', (event) => {
      const container = document.getElementById('div-groupField')
      const subject = UI.rdf.namedNode('http://example.com/#this')
      const form = UI.rdf.namedNode('http://example.com/#form')
      const store = UI.rdf.namedNode('http://example.com/#store')
      const key = subject.toNT() + '|' + form.toNT()
      const already = {
        [key]: true
      }
      const callbackFunction = (ok, errorMessage) => {
        console.log(ok, errorMessage, document.getElementById('#div-groupField').innerHTML);
      }
      UI.store.add(form, UI.ns.ui('parts'), new UI.rdf.Collection([
        UI.rdf.namedNode('http://example.com/#part1'),
        UI.rdf.namedNode('http://example.com/#part2')
      ]), UI.rdf.namedNode('http://example.com/'))

      // FIXME: https://github.com/solid/solid-ui/issues/239
      document.outlineManager = {
        appendPropertyTRs: () => {}
      }
      UI.widgets.field[UI.ns.ui('Group').uri](
        document,
        container,
        already,
        subject,
        form,
        store,
        callbackFunction
      )
    })
  </script>
  <pre id="viewSource-groupField"></pre><script>showSource('groupField')</script>
  <div id="div-groupField"></div>

  <h2 id="optionsField"><a href="#optionsField">UI.widgets.field[UI.ns.ui('Options').uri]</a></h2>
  <script id="script-optionsField">
    window.addEventListener('DOMContentLoaded', (event) => {
      const container = document.getElementById('#div-optionsField')
      const subject = UI.rdf.namedNode('http://example.com/#this')
      const exampleOptionsField = UI.rdf.namedNode('http://example.com/#exampleOptionsField')
      const store = UI.rdf.namedNode('http://example.com/#store')
      const callbackFunction = (ok, errorMessage) => {
        console.log(ok, errorMessage, document.getElementById('#div-optionsField').innerHTML);
      }
      UI.store.add(exampleOptionsField, UI.ns.ui('dependingOn'), UI.rdf.namedNode('http://example.com/#bla'), UI.rdf.namedNode('http://example.com/'))

      // FIXME: https://github.com/solid/solid-ui/issues/239
      document.outlineManager = {
        appendPropertyTRs: () => {}
      }
      UI.widgets.field[UI.ns.ui('Group').uri](
        document,
        container,
        already,
        subject,
        exampleOptionsField,
        store,
        callbackFunction
      )
    })
  </script>
  <pre id="viewSource-optionsField"></pre><script>showSource('optionsField')</script>
  <div id="div-optionsField"></div>

</body>
</html>
