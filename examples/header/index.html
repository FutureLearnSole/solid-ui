<!DOCTYPE HTML>
<html lang="en">
<head>
    <meta charset='UTF-8'>
    <title>solid-ui UI.widgets.header examples page</title>
    <script type="text/javascript" src="../../lib/webpack-bundle.js"></script>
    <script>
      const $ = document.querySelector.bind(document)
      function showSource(widgetName) {
        $(`#viewSource-${widgetName}`).innerHTML = $(`#script-${widgetName}`).innerText
          .replace(/&/g, "&amp;")
          .replace(/</g, "&lt;")
          .replace(/>/g, "&gt;")
          .replace(/"/g, "&quot;")
          .replace(/'/g, "&#039;")
      }
    </script>
</head>
<body>

<h2 id="header"><a href="#header">Header</a></h2>
<p>This example demonstrates how to use the header component. The header has a different view depending
on whether or not you are logged in. Unless you are already logged into your pod identity provider you
should see the logged out view. To see the logged in view click the login button below. </p>
<p>The header allows for both logo customization and also for menu items.</p>
<p>options: logo</p>
<p>options menu items (can have a list of link or a list of onclicks if you have buttons...</p>
<script>
  async function login(idp) {
    const session = await solid.auth.currentSession();
    if (!session)
      await solid.auth.login(idp);
    else
      alert(`Logged in as ${session.webId}`);
  }
  login('https://solid.community');
</script>
<div id='PageHeader'></div>
<button onclick="login('https://solid.community')">Login</button>
<script id="script-header">
  window.addEventListener('DOMContentLoaded', async () => {
   try {
      options = { menuList: [{ label: "Testing", url: 'https://reflectechblog.wordpress.com/' }] }
      await UI.initHeader(UI.store, options)
  } catch (error) {
      window.alert(`Error loading header. You need to have a div with id = PageHeader on your page.`)
   }
  });
</script>
<pre id="viewSource-header"></pre><script>showSource('header')</script>
<div id="div-header"></div>

</body>
</html>