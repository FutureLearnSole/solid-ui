<!DOCTYPE HTML>
<html lang="en">

<head>
  <meta charset='UTF-8'>
  <title>solid-ui pad examples page</title>
  <script type="text/javascript" src="../../lib/webpack-bundle.js"></script>
  <script>
    const $ = document.querySelector.bind(document)
  </script>
</head>

<body>
  <h2>notepadToHTML</h2>
  <script id="script-notepadToHTML">
    window.addEventListener('DOMContentLoaded', async (event) => {
      const kb = UI.store
      const fetcher = UI.rdf.fetcher(kb)
      const pad = kb.sym(
        document.location.href.replace(/\/[^\/]*$/, "/pad.ttl#this")
      )
      await fetcher.load(pad.doc())
      const htmlStr = UI.pad.notepadToHTML(pad, kb)
      const doc = $('#iframe-notepadToHTML').contentWindow.document;
      doc.open()
      doc.write(htmlStr)
      doc.close()
      $('#div-notepadToHTML').appendChild(document.createTextNode(htmlStr))
    })
  </script>
  <pre id="viewSource-notepadToHTML"></pre>
  <script>$('#viewSource-notepadToHTML').innerHTML = $('#script-notepadToHTML').innerText</script>
  <iframe id="iframe-notepadToHTML" src="about:blank"></iframe>
  <div id="div-notepadToHTML"></div>

  <h2>lightColorHash</h2>
  <script id="script-lightColorHash">
    window.addEventListener('DOMContentLoaded', (event) => {
      const htmlStr = UI.pad.lightColorHash(new UI.rdf.NamedNode('https://sharonstrats.inrupt.net/profile/card#me'))
      const doc = $('#iframe-lightColorHash').contentWindow.document;
      doc.open()
      doc.write(htmlStr)
      doc.close()
    })
  </script>
  <pre id="viewSource-lightColorHash"></pre>
  <script>$('#viewSource-lightColorHash').innerHTML = $('#script-lightColorHash').innerText</script>
  <iframe id="iframe-lightColorHash" src="about:blank"></iframe>
  <div id="div-lightColorHash"></div>

  <h2>renderPartipants</h2>
  <script id="script-renderPartipants">
    window.addEventListener('DOMContentLoaded', async (event) => {
      const doc = $('#iframe-renderPartipants').contentWindow.document;
      const table = document.createElement('table');
      const kb = UI.store
      const fetcher = UI.rdf.fetcher(kb)
      const pad = kb.sym(
        document.location.href.replace(/\/[^\/]*$/, "/pad.ttl#this")
      )
      await fetcher.load(pad.doc())
      // subject = new NamedNode('test') // this i think the page where a list.. ns.ws('participants') are stored
      subject = kb.sym('https://test.test#')
      options = {} // what to put in options
      //options are used in the button personTR there are the following properties can be defined deleteFunction, link, draggable
      const htmlStr = UI.pad.renderPartipants(doc, table, pad, subject, new UI.rdf.NamedNode('https://sharonstrats.inrupt.net/profile/card#me'), options)

      doc.open()
      doc.write(htmlStr)
      doc.close()
    })
  </script>
  <pre id="viewSource-renderPartipants"></pre>
  <script>$('#viewSource-renderPartipants').innerHTML = $('#script-renderPartipants').innerText</script>
  <iframe id="iframe-renderPartipants" src="about:blank"></iframe>
  <div id="div-renderPartipants"></div>

  <h2> participationObject </h2>
  <script id="script-participationObject">
    window.addEventListener('DOMContentLoaded', async (event) => {
      const doc = $('#iframe-participationObject').contentWindow.document;

      const kb = UI.store
      const subject = kb.sym('https://test.test#');
      const fetcher = UI.rdf.fetcher(kb)
      const padDoc = kb.sym(
        document.location.href.replace(/\/[^\/]*$/, "/pad.ttl#this")
      )
      await fetcher.load(padDoc.doc())
      const me = new UI.rdf.NamedNode('https://sharonstrats.inrupt.net/profile/card#me')
      const htmlStr = UI.pad.participationObject(subject, padDoc, me);
    })
  </script>
  <pre id="viewSource-participationObject"></pre>
  <script>$('#viewSource-participationObject').innerHTML = $('#script-participationObject').innerText</script>
  <iframe id="iframe-participationObject" src="about:blank"></iframe>
  <div id="div-participationObject"></div>
  <h2>recordParticipation</h2>
  <script id='script-recordParticipation'>
    window.addEventListener('DOMContentLoaded', async (event) => {
      const doc = $('#iframe-recordParticipation').contentWindow.document;
      const kb = UI.store
      const subject = kb.sym('https://test.test#');
      const fetcher = UI.rdf.fetcher(kb)
      const padDoc = kb.sym(
        document.location.href.replace(/\/[^\/]*$/, "/pad.ttl#this")
      )
      await fetcher.load(padDoc.doc())
      const htmlStr = UI.pad.recordParticipation(subject, padDoc, false);
    })
  </script>
  <pre id="viewSource-recordParticipation"></pre>
  <script>$('#viewSource-recordParticipation').innerHTML = $('#script-recordParticipation').innerText</script>
  <iframe id='iframe-recordParticipation' src="about:blank"></iframe>
  <div id="div-recordParticipation"></div>

  <h2>manageParticipation</h2>
  <script id='script-manageParticipation'>
    window.addEventListener('DOMContentLoaded', async (event) => {
      const doc = $('#frame-manageParticipation').contentWindow.document;
      const kb = UI.store
      const me = new UI.rdf.NamedNode('https://sharonstrats.inrupt.net/profile/card#me')
      const container = createElement(HTMLDivElement)
      const subject = kb.sym('https://test.test#');
      const padDoc = kb.sym(document.location.href.replace(/\/[^\/]*$/, "/pad.ttl#this"))
      await fetcher.load(padDoc.doc())
      options = {}
      const htmlStr = UI.pad.manageParticipation(Document, container, padDoc, subject, me, options)
    })
  </script>

  <pre id="viewSource-manageParticipation"></pre>
  <script>$('#viewSource-manageParticipation').innerHTML = $('#script-manageParticipation').innerText</script>
  <iframe id='iframe-manageParticipation' src="about:blank"></iframe>
  <div id="div-manageParticipation"></div>
  <h2>notepad </h2>
  <script id='script-notepad'>
    window.addEventListener('DOMContentLoaded', async (event) => {
      const doc = $('#frame-notepad').contentWindow.document;
      const kb = UI.store
      const me = new UI.rdf.NamedNode('https://sharonstrats.inrupt.net/profile/card#me')
      const container = createElement(HTMLDivElement)
      const subject = kb.sym('https://test.test#');
      const padDoc = kb.sym(document.location.href.replace(/\/[^\/]*$/, "/pad.ttl#this"))
      await fetcher.load(padDoc.doc())
      options = {}
      const htmlStr = notepad(Document, padDoc, subject, me, options)
    })
  </script>
  <pre id="viewSource-notepad"></pre>
  <script>$('#viewSource-notepad').innerHTML = $('#script-notepad').innerText</script>
  <iframe id='iframe-notepad' src="about:blank"></iframe>
  <div id="div-notepad"></div>

</body>

</html>